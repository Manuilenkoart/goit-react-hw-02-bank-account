{"version":3,"sources":["components/Controls/Controls.js","components/Balance/Balance.js","components/TransactionHistory/TransactionHistory.js","components/services/localStorage.js","components/Dashboard/Dashboard.js","components/App.js","index.js","components/Balance/Balance.module.css","components/Controls/Controls.module.css","components/TransactionHistory/TransactionHistory.module.css","components/Dashboard/Dashboard.module.css"],"names":["Controls","state","inputValue","handleChange","e","inputToNumber","Number","target","value","isNaN","toast","warning","setState","handleDeposit","props","onSaveDeposit","reset","handleWithdraw","onSaveWithdraw","this","className","styles","controls","type","onChange","onClick","notify","Component","Balance","income","expenses","balance","container","role","aria-label","TransactionHistory","items","history","map","el","key","id","amount","date","localStorage","setItem","JSON","stringify","err","console","log","getItem","parse","Dashboard","transactions","saveTransactionDeposit","transaction","shortid","generate","Date","toLocaleString","prevState","saveTransactionWithdraw","error","paymentCalculation","billType","filter","reduce","acc","storage","prevProps","dashboard","App","ReactDOM","render","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.c75e09ab.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport T from 'prop-types';\r\nimport styles from './Controls.module.css';\r\n\r\nexport default class Controls extends Component {\r\n  static propTypes = {\r\n    onSaveDeposit: T.func.isRequired,\r\n    onSaveWithdraw: T.func.isRequired,\r\n  };\r\n\r\n  state = {\r\n    inputValue: '',\r\n  };\r\n\r\n  handleChange = e => {\r\n    const inputToNumber = Number(e.target.value);\r\n    if (Number.isNaN(inputToNumber)) {\r\n      toast.warning('Введите сумму для проведения операции!');\r\n      return;\r\n    }\r\n\r\n    this.setState({ inputValue: inputToNumber });\r\n  };\r\n\r\n  handleDeposit = () => {\r\n    this.props.onSaveDeposit(this.state.inputValue);\r\n    this.reset();\r\n  };\r\n\r\n  handleWithdraw = () => {\r\n    this.props.onSaveWithdraw(this.state.inputValue);\r\n    this.reset();\r\n  };\r\n\r\n  reset = () => {\r\n    this.setState({\r\n      inputValue: '',\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { inputValue } = this.state;\r\n\r\n    return (\r\n      <section className={styles.controls}>\r\n        <input type=\"text\" value={inputValue} onChange={this.handleChange} />\r\n        <button type=\"button\" onClick={(this.notify, this.handleDeposit)}>\r\n          Deposit\r\n        </button>\r\n        <button type=\"button\" onClick={this.handleWithdraw}>\r\n          Withdraw\r\n        </button>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport T from 'prop-types';\r\nimport styles from './Balance.module.css';\r\n\r\nconst Balance = ({ income, expenses, balance }) => (\r\n  <section className={styles.balance}>\r\n    <span className={styles.container}>\r\n      <span role=\"img\" aria-label=\"upward arrow\">\r\n        ⬆️\r\n      </span>\r\n      {income}$\r\n    </span>\r\n\r\n    <span className={styles.container}>\r\n      <span role=\"img\" aria-label=\"downward arrow\">\r\n        ⬇️\r\n      </span>\r\n      {expenses}$\r\n    </span>\r\n    <span className={styles.container}>Balance:{balance}$</span>\r\n  </section>\r\n);\r\n\r\nBalance.propTypes = {\r\n  income: T.number.isRequired,\r\n  expenses: T.number.isRequired,\r\n  balance: T.number.isRequired,\r\n};\r\nexport default Balance;\r\n","import React from 'react';\r\nimport T from 'prop-types';\r\nimport styles from './TransactionHistory.module.css';\r\n\r\nconst TransactionHistory = ({ items }) => {\r\n  return (\r\n    <table className={styles.history}>\r\n      <thead>\r\n        <tr>\r\n          <th>Transaction</th>\r\n          <th>Amount</th>\r\n          <th>Date</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {items.map(el => (\r\n          <tr key={el.id}>\r\n            <td>{el.type}</td>\r\n            <td>{el.amount}$</td>\r\n            <td>{el.date}</td>\r\n          </tr>\r\n        ))}\r\n      </tbody>\r\n    </table>\r\n  );\r\n};\r\nTransactionHistory.propTypes = {\r\n  items: T.arrayOf(\r\n    T.shape({\r\n      id: T.string.isRequired,\r\n      type: T.string.isRequired,\r\n      amount: T.number.isRequired,\r\n      date: T.string.isRequired,\r\n    }).isRequired,\r\n  ).isRequired,\r\n};\r\nexport default TransactionHistory;\r\n","const save = (key, value) => {\r\n  try {\r\n    localStorage.setItem(key, JSON.stringify(value));\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nconst get = key => {\r\n  try {\r\n    const items = localStorage.getItem(key);\r\n\r\n    return items ? JSON.parse(items) : null;\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n\r\n  return null;\r\n};\r\nexport default {\r\n  save,\r\n  get,\r\n};\r\n","import React, { Component } from 'react';\r\nimport shortid from 'short-id';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport Controls from '../Controls/Controls';\r\nimport Balance from '../Balance/Balance';\r\nimport TransactionHistory from '../TransactionHistory/TransactionHistory';\r\nimport storage from '../services/localStorage';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport styles from './Dashboard.module.css';\r\n\r\nexport default class Dashboard extends Component {\r\n  state = {\r\n    transactions: [],\r\n    balance: 0.0,\r\n  };\r\n\r\n  componentDidMount() {\r\n    const transactions = storage.get('transactions');\r\n    const balance = storage.get('balance');\r\n\r\n    if (transactions && balance >= 0) {\r\n      this.setState({ transactions, balance });\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { transactions, balance } = this.state;\r\n\r\n    if (\r\n      prevState.transactions !== transactions &&\r\n      prevState.balance !== balance\r\n    ) {\r\n      storage.save('transactions', transactions);\r\n      storage.save('balance', balance);\r\n    }\r\n  }\r\n\r\n  saveTransactionDeposit = amount => {\r\n    if (!amount) {\r\n      toast.warning('Введите сумму для проведения операции!');\r\n      return;\r\n    }\r\n\r\n    const transaction = {\r\n      id: shortid.generate(),\r\n      amount,\r\n      type: 'deposit',\r\n      date: new Date().toLocaleString(),\r\n    };\r\n    this.setState(state => ({\r\n      transactions: [...state.transactions, transaction],\r\n    }));\r\n    this.setState(prevState => ({\r\n      balance: prevState.balance + amount,\r\n    }));\r\n  };\r\n\r\n  saveTransactionWithdraw = amount => {\r\n    if (!amount) {\r\n      toast.warning('Введите сумму для проведения операции!');\r\n      return;\r\n    }\r\n    if (amount > this.state.balance) {\r\n      toast.error('На счету недостаточно средств для проведения операции!');\r\n      return;\r\n    }\r\n    const transaction = {\r\n      id: shortid.generate(),\r\n      amount,\r\n      type: 'withdraw',\r\n      date: new Date().toLocaleString(),\r\n    };\r\n    this.setState(state => ({\r\n      transactions: [...state.transactions, transaction],\r\n    }));\r\n    this.setState(prevState => ({\r\n      balance: prevState.balance - amount,\r\n    }));\r\n  };\r\n\r\n  paymentCalculation = (transactions, billType) => {\r\n    const filterByType = transactions.filter(el => el.type === billType);\r\n    const total = filterByType.reduce((acc, value) => acc + value.amount, 0);\r\n\r\n    return total;\r\n  };\r\n\r\n  render() {\r\n    const { transactions, balance } = this.state;\r\n\r\n    return (\r\n      <div className={styles.dashboard}>\r\n        <ToastContainer />\r\n\r\n        <Controls\r\n          onSaveDeposit={this.saveTransactionDeposit}\r\n          onSaveWithdraw={this.saveTransactionWithdraw}\r\n        />\r\n        <Balance\r\n          income={this.paymentCalculation(transactions, 'deposit')}\r\n          expenses={this.paymentCalculation(transactions, 'withdraw')}\r\n          balance={balance}\r\n        />\r\n        <TransactionHistory items={transactions} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport Dashboard from './Dashboard/Dashboard';\r\n\r\nconst App = () => (\r\n  <>\r\n    <Dashboard />\r\n  </>\r\n);\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"balance\":\"Balance_balance__1L7TE\",\"container\":\"Balance_container__3JwwT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"Controls_controls__1WS7j\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"history\":\"TransactionHistory_history__2OG7I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dashboard\":\"Dashboard_dashboard__2PfvF\"};"],"sourceRoot":""}